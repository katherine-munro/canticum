{% extends "layout.html" %}

{% block title %}
    Register
{% endblock %}

{% block main %}
    <h2>Users already in the database</h2>
    <table class = "table table-sm">
        <thead>
            <th class="text-left">Username</th>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td class="text-left">{{ user.user_name }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <hr>
    <h2>Add new user</h2>
    <form action="/register" method="post">
        <div class="form-group">
            <input autocomplete="off" autofocus class="form-control" name="username" id="username" placeholder="Username" type="text">
        </div>
        <div class="form-group">
            <input class="form-control" name="password" placeholder="Password" type="password">
        </div>
        <div class="form-group">
            <input class="form-control" name="confirmation" placeholder="Confirm password" type="password">
        </div>
        <button class="btn btn-primary" type="submit">Add User</button>
    </form>
    <hr>
    <h2>Change a password</h2>
    <form action="/password" method="post">
        <div class="form-group">
            <select class="form-control" name="user" placeholder="Username">
                {% for user in users %}
                    <option value="{{ user.user_name }}">{{ user.user_name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <input class="form-control" name="oldpassword" placeholder="Old password" type="password">
        </div>
        <div class="form-group">
            <input class="form-control" name="newpassword" placeholder="New password" type="password">
        </div>
        <div class="form-group">
            <input class="form-control" name="confirmation" placeholder="Confirm new password" type="password">
        </div>
        <button class="btn btn-primary" type="submit">Change Password</button>
    </form>

{% endblock %}